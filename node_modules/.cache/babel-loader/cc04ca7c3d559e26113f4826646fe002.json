{"ast":null,"code":"import _slicedToArray from\"/Users/brandon/Documents/Projects/Website/react-gh-pages/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Helmet}from\"react-helmet\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import Sectiontitle from\"../components/Sectiontitle\";import Layout from\"../components/Layout\";import Pagination from\"../components/Pagination\";import PortfolioView from\"../components/PortfolioView\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Portfolio(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),portfolio=_useState2[0],setPortfolios=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(9),_useState6=_slicedToArray(_useState5,1),portfolioPerPage=_useState6[0];useEffect(function(){var mounted=true;axios.get(\"/api/portfolio\").then(function(response){if(mounted){setPortfolios(response.data);}});return function(){return mounted=false;};},[portfolio]);var indexOfLastPortfolio=currentPage*portfolioPerPage;var indexOfFirstPortfolio=indexOfLastPortfolio-portfolioPerPage;var currentPortfolio=portfolio.slice(indexOfFirstPortfolio,indexOfLastPortfolio);var paginate=function paginate(e,pageNumber){e.preventDefault();setCurrentPage(pageNumber);};return/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Portfolio - Brandon Clarke-Moss Portfolio Website\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"Brandon Clarke-Moss Portfolio Website Portfolio Page\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mi-about mi-section mi-padding-top mi-padding-bottom\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Sectiontitle,{title:\"Portfolio\"}),/*#__PURE__*/_jsx(PortfolioView,{portfolio:currentPortfolio}),!(portfolio.length>portfolioPerPage)?null:/*#__PURE__*/_jsx(Pagination,{className:\"mt-50\",itemsPerPage:portfolioPerPage,totalItems:portfolio.length,paginate:paginate,currentPage:currentPage})]})})]});}export default Portfolio;","map":{"version":3,"sources":["/Users/brandon/Documents/Projects/Website/react-gh-pages/src/pages/Portfolio.js"],"names":["Helmet","React","useState","useEffect","axios","Sectiontitle","Layout","Pagination","PortfolioView","Portfolio","portfolio","setPortfolios","currentPage","setCurrentPage","portfolioPerPage","mounted","get","then","response","data","indexOfLastPortfolio","indexOfFirstPortfolio","currentPortfolio","slice","paginate","e","pageNumber","preventDefault","length"],"mappings":"+KAAA,OAASA,MAAT,KAAuB,cAAvB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,C,wFAEA,QAASC,CAAAA,SAAT,EAAqB,CACnB,cAAmCP,QAAQ,CAAC,EAAD,CAA3C,wCAAOQ,SAAP,eAAkBC,aAAlB,eACA,eAAsCT,QAAQ,CAAC,CAAD,CAA9C,yCAAOU,WAAP,eAAoBC,cAApB,eACA,eAA2BX,QAAQ,CAAC,CAAD,CAAnC,yCAAOY,gBAAP,eAEAX,SAAS,CAAC,UAAM,CACd,GAAIY,CAAAA,OAAO,CAAG,IAAd,CACAX,KAAK,CAACY,GAAN,CAAU,gBAAV,EAA4BC,IAA5B,CAAiC,SAACC,QAAD,CAAc,CAC7C,GAAIH,OAAJ,CAAa,CACXJ,aAAa,CAACO,QAAQ,CAACC,IAAV,CAAb,CACD,CACF,CAJD,EAKA,MAAO,kBAAOJ,CAAAA,OAAO,CAAG,KAAjB,EAAP,CACD,CARQ,CAQN,CAACL,SAAD,CARM,CAAT,CAUA,GAAMU,CAAAA,oBAAoB,CAAGR,WAAW,CAAGE,gBAA3C,CACA,GAAMO,CAAAA,qBAAqB,CAAGD,oBAAoB,CAAGN,gBAArD,CACA,GAAMQ,CAAAA,gBAAgB,CAAGZ,SAAS,CAACa,KAAV,CACvBF,qBADuB,CAEvBD,oBAFuB,CAAzB,CAKA,GAAMI,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAIC,UAAJ,CAAmB,CAClCD,CAAC,CAACE,cAAF,GACAd,cAAc,CAACa,UAAD,CAAd,CACD,CAHD,CAKA,mBACE,MAAC,MAAD,yBACE,MAAC,MAAD,yBACE,4EADF,cAEE,aACE,IAAI,CAAC,aADP,CAEE,OAAO,CAAC,sDAFV,EAFF,GADF,cAQE,YAAK,SAAS,CAAC,sDAAf,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,KAAC,YAAD,EAAc,KAAK,CAAC,WAApB,EADF,cAEG,KAAC,aAAD,EAAe,SAAS,CAAEJ,gBAA1B,EAFH,CAGG,EAAEZ,SAAS,CAACkB,MAAV,CAAmBd,gBAArB,EAAyC,IAAzC,cACC,KAAC,UAAD,EACE,SAAS,CAAC,OADZ,CAEE,YAAY,CAAEA,gBAFhB,CAGE,UAAU,CAAEJ,SAAS,CAACkB,MAHxB,CAIE,QAAQ,CAAEJ,QAJZ,CAKE,WAAW,CAAEZ,WALf,EAJJ,GADF,EARF,GADF,CA0BD,CAED,cAAeH,CAAAA,SAAf","sourcesContent":["import { Helmet } from \"react-helmet\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Sectiontitle from \"../components/Sectiontitle\";\nimport Layout from \"../components/Layout\";\nimport Pagination from \"../components/Pagination\";\nimport PortfolioView from \"../components/PortfolioView\";\n\nfunction Portfolio() {\n  const [portfolio, setPortfolios] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [portfolioPerPage] = useState(9);\n\n  useEffect(() => {\n    let mounted = true;\n    axios.get(\"/api/portfolio\").then((response) => {\n      if (mounted) {\n        setPortfolios(response.data);\n      }\n    });\n    return () => (mounted = false);\n  }, [portfolio]);\n\n  const indexOfLastPortfolio = currentPage * portfolioPerPage;\n  const indexOfFirstPortfolio = indexOfLastPortfolio - portfolioPerPage;\n  const currentPortfolio = portfolio.slice(\n    indexOfFirstPortfolio,\n    indexOfLastPortfolio\n  );\n\n  const paginate = (e, pageNumber) => {\n    e.preventDefault();\n    setCurrentPage(pageNumber);\n  };\n\n  return (\n    <Layout>\n      <Helmet>\n        <title>Portfolio - Brandon Clarke-Moss Portfolio Website</title>\n        <meta\n          name=\"description\"\n          content=\"Brandon Clarke-Moss Portfolio Website Portfolio Page\"\n        />\n      </Helmet>\n      <div className=\"mi-about mi-section mi-padding-top mi-padding-bottom\">\n        <div className=\"container\">\n          <Sectiontitle title=\"Portfolio\" />\n          {<PortfolioView portfolio={currentPortfolio} />}\n          {!(portfolio.length > portfolioPerPage) ? null : (\n            <Pagination\n              className=\"mt-50\"\n              itemsPerPage={portfolioPerPage}\n              totalItems={portfolio.length}\n              paginate={paginate}\n              currentPage={currentPage}\n            />\n          )}\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nexport default Portfolio;\n"]},"metadata":{},"sourceType":"module"}